@{
    Layout = "_Layout";
    ViewData["Title"] = "Forgot Password";
}

<div class="container col-md-5 mt-4">
    <h2 class="fw-bold mb-3">Forgot Password</h2>

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-danger">@ViewBag.Error</div>
    }

    <form method="post" asp-action="ForgotPassword" id="forgotForm">

        <div class="mb-3">
            <label>Email</label>
            <input id="emailInput" name="Email" class="form-control" />
            <span id="emailError" class="text-danger" style="display:none;">Please enter your email.</span>
        </div>

        <div class="mb-3">
            <label>Full Name</label>
            <input id="nameInput" name="FullName" class="form-control" />
            <span id="nameError" class="text-danger" style="display:none;">Please enter your full name.</span>
        </div>

        <button class="btn btn-primary w-100 mt-2">Verify</button>

        <!-- Back Button -->
        <a asp-action="Login" class="btn btn-secondary w-100 mt-2">Back to Login</a>

    </form>
</div>

@section Scripts {
    <script>
        const form = document.getElementById("forgotForm"),
            email = document.getElementById("emailInput"),
            name = document.getElementById("nameInput"),
            emailErr = document.getElementById("emailError"),
            nameErr = document.getElementById("nameError");

        form.addEventListener("submit", function (e) {
            let valid = true;

            if (email.value.trim() === "") { emailErr.style.display = "block"; valid = false; }
            else emailErr.style.display = "none";

            if (name.value.trim() === "") { nameErr.style.display = "block"; valid = false; }
            else nameErr.style.display = "none";

            if (!valid) e.preventDefault();
        });
    </script>
}
