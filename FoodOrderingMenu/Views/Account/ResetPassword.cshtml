@model FoodOrderingMenu.Models.ResetPasswordViewModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Reset Password";
}

<div class="container col-md-5 mt-4">

    <h2 class="fw-bold mb-3">Reset Password</h2>

    @if (ViewBag.Error != null)
    {
        <div class="alert alert-danger">@ViewBag.Error</div>
    }

    <form method="post" asp-action="ResetPassword" id="resetForm">

        <input type="hidden" asp-for="Email" />
        <input type="hidden" asp-for="FullName" />

        <div class="mb-3">
            <label>New Password</label>
            <input id="newPass" asp-for="NewPassword" type="password" class="form-control" />
            <span id="passError" class="text-danger" style="display:none;">Please enter your new password.</span>
        </div>

        <button class="btn btn-primary w-100 mt-2">Reset Password</button>

        <!-- Back Button -->
        <a asp-action="ForgotPassword" class="btn btn-secondary w-100 mt-2">Back</a>

    </form>
</div>

@section Scripts {
    <script>
        const form = document.getElementById("resetForm"),
            pass = document.getElementById("newPass"),
            passErr = document.getElementById("passError");

        form.addEventListener("submit", function (e) {
            if (pass.value.trim() === "") {
                passErr.style.display = "block";
                e.preventDefault();
            } else {
                passErr.style.display = "none";
            }
        });
    </script>
}
